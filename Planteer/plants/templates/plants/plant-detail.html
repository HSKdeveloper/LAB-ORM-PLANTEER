{% extends 'main/base.html' %}
{% load static %}

<!-- Page title -->
{% block title %} {% endblock %}

<!-- Coustome style -->
{% block style %} 

<style>
    img
    {
        height:250px;
        width: 300px;
    }
</style>

{% endblock %}

<!-- Page content -->
{% block content %}

<div class="row d-flex justify-content-center">

    <div class="col">
        <div class="d-flex flex-row gap-2 justify-content-center align-items-center">
            <div class="d-flex justify-content-center align-items-center m-3" >
                <img src="{{ plant.image.url}}" alt="plant image">
            </div>
            <div class="d-flex flex-column justify-content-center col-6 ">
                <h2>{{ plant.name }}</h2>
                <h6>{{plant.category}}</h6> 
                <p>{{ plant.about }}</p>
                <h5>Native to: </h5>
                <div class="d-flex gap-2">
                    {% for country in plant.countries.all  %}
                        <a href="{% url 'plants:country_filter_view' country.name  %}"><p class="{{country}}"> {{ country }} </p></a>
                    {% endfor %}

                </div>
                
                
                <h3>Is Edible:</h3>
                <p>{{plant.is_edible}}</p>
                <h3>Used For:</h3>
                <p> {{plant.used_for}}</p>
                <p>{{ plant.created_at}}</p>
                               
            </div>

        </div>
        <div class="d-flex justify-content-end gap-2">

            <a href="{% url 'plants:plant_update_view' plant.id %}" class="btn btn-primary">update</a>
            <a  class="btn btn-danger" href="{% url 'plants:plant_delete_view' plant.id %}">delete</a>
        </div>
    </div>

</div>


{%  with filter_plant as plants %}
    {% include 'plants/plants-list.html' %}
{% endwith %}
<!--
    <ul>
        <div class="row mt-5 row-cols-1 row-cols-md-3 g-4">
        {% for similar in filter_plant %}
            <li>
                <div class="col">
                    
                        <div class="d-flex flex-column justify-content-start align-items-start h-100 p-4 shadow gap-2">

                            <img src="{{similar.image.url}}" class="w-100 poster-thumb object-fit-cover"/>
                            <a href="{% url 'plants:plant_detail_view' similar.id %}"><h3>{{similar.name}}</h3></a>
                            <p> Click on the title to know more about it </p>
                            <h5>{{similar.category}}</h5>
                        </div>
                </div>
            
            </li>
            {% empty %}
            <li>
                there is no other plant the same
            </li>
        {% endfor %}
</div>   
 </ul>
-->


<hr>

<h2>
    Comments {{ reviews.count }}
</h2>

<div class="d-flex flex-column gap-3">
  {% for review in reviews %}
    <div class="d-flex flex-column p-3 shadow">
        <h4>{{ review.name }}</h4>
        <p>{{ review.comment }}</p>
        <p class="text-muted">{{ review.create_at}}</p>
    </div>
  {% endfor %}
</div>

<h2 class="mt-5">Add Comment</h2>
<form class="d-flex flex-column gap-2" action="{% url 'plants:add_review_view' plant.id %}" method="post">
  {% csrf_token %}
  <input type="text" name="name" id="" class="form-control" required minlength="3" placeholder="name">
  <textarea type="text" name="comment" id="" class="form-control" required minlength="3" placeholder="Comment ..." name="" id=""></textarea>
  <select class="form-select" name="rating" required>
    <option value="">Rating</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>

  <input type="submit" class="btn btn-primary" value="Add Review">
</form>

{% endblock %}